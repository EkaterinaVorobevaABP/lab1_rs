# Цель работы:
1. освоить принципы удаленного вызова процедур (RPC) и их применени в распределенных системах;
2. изучить основы фреймворка gRPC и языка определения интерфейсов Protocol Buffers (Protobuf);
3. научиться определять сервисы и сообщения с помощью Protobuf;
4. реализовать клиент-серверное приложение на языке Python с использованием gRPC;
5. получить практические навыки в генерации кода, реализации серверной логики и клиентских вызовов для различных типов RPC.
   
# Описание предметной области:
1. метод CheckAvailability(BookingRequest) - для проверки доступности номера в отеле.

# Архитектура
# Сервер (Server) - это независимое приложение (server.py), которое выполняет основную "бизнес-логику".
*Возможности:*

• Предоставляет сервис. Он реализует и "выставляет наружу" сервис, определенный в контракте.

• Обрабатывает запросы. Он слушает входящие сетевые соединения на определенном порту (50051) и обрабатывает
вызовы от клиентов.

• Выполняет логику. Генерирует случайные данные о отеле и номере, имитируя реальную работу.

• Асинхронность. Использует пул потоков для одновременной обработки нескольких
клиентских запросовю

# Клиент (Client) - это приложение (client.py), которое потребляет функциональность, предоставляемую сервером.
*Возможности:*

• Инициирует соединение. Устанавливает соединение с сервером по известному адресу (localhost:50051).

• Вызывает удаленные методы. Обращается к методам сервера так, как будто это локальные функции.

• Обрабатывает ответы. Получает и выводит на экран данные, возвращенные сервером.

# Взаимодействие и Контракт
Ключевым элементом архитектуры является сервисный контракт (Service Contract), определенный в файле booking.proto.
Роль контракта: этот файл является "единым источником правды" для API. Он строго описывает:

• Какие сервисы доступны (BookingService).

• Какие методы можно вызвать у каждого сервиса (CheckAvailability(request)).

• Какие данные (сообщения) эти методы принимают (BookingRequest) и возвращают (AvailabilityResponse).

# Архитектура

<img width="828" height="702" alt="image" src="https://github.com/user-attachments/assets/f0f787e8-9b04-4e1b-be1c-607d52004cda" />



# Технологический стек
*1.Язык определения интерфейсов (IDL):* Protocol Buffers (Protobuf)

*2.Фреймворк RPC:*  gRPC

*3.Транспортный протокол:*  HTTP/2

*4.Язык программирования:* Python 3

*5.Ключевые библиотеки Python:*
a) grpcio
b) grpcio-tools

*6.Среда выполнения и изоляция:*
a) ОС: Ubuntu 20.04 (Linux).
b) Виртуальное окружение (venv). Инструмент для изоляции зависимостей
проекта, гарантирующий, что установленные пакеты (grpcio и др.) не будут
конфликтовать с системными или другими проектами.

# Шаг 1. Подготовка окружения:
Мною были подготовлены файлы: Файл контракта (booking.proto), Реализация Сервера (server.py), Реализация Клиента (client.py)
Папку с соответсующими файлами я загрузила в Visual Studio Code.
Далее следюущими командами я обновила пакет и установила Python:

<img width="974" height="637" alt="image" src="https://github.com/user-attachments/assets/9fd8db68-89a8-4270-ae0f-b49c52e4d1ce" />
<img width="710" height="301" alt="image" src="https://github.com/user-attachments/assets/bd322fdd-987a-4ce1-8cc0-b69eee6e7c1f" />

Находясь в папке с необходимыми файлами, я запустила виртальное окружение и активировала его, после чего в начале строки появилось указание (Venv)

<img width="751" height="109" alt="image" src="https://github.com/user-attachments/assets/a5263467-6768-4e7a-a567-092c4642473b" />

Далее я установила библиотеки gRPC:

<img width="751" height="109" alt="image" src="https://github.com/user-attachments/assets/654c6ec8-742f-47eb-bbf6-b7cf46711ab4" />

# Шаг 2. Генерация кода:
Выполнила команду *python -m grpc_tools.protoc -I. --python_out=. --grpc_python_out=. booking.proto*. Эта команда создала файлы booking_pb2.py и booking_pb2_grpc.py, которые содержать сгенерированные классы для клиента и сервера

После выполнения команды в папке появилась два новых файла:

<img width="974" height="687" alt="image" src="https://github.com/user-attachments/assets/0781f57a-e70f-457b-9fa2-e59372cd5cd5" />

# Шаг 3. Запуск и проверка:
Я открыла второй терминал, на одном из них активировала окружение и запустила клиентский файл, на втором активировала окружение и запутсила серверный файл. После в терминале появились сообщения, указанные в файлах:
<img width="974" height="546" alt="image" src="https://github.com/user-attachments/assets/e226d3f8-34a7-4218-bbcf-ee2955db4926" />

Далее я ввела название отеля и номера в клиентском сервере и на нем получила ответ:

<img width="974" height="586" alt="image" src="https://github.com/user-attachments/assets/ee8d2721-ea26-42c4-a2e2-d009b0ea1732" />

 # Вывод:
 В ходе работы мною был реализован клиент сервер и реализована сервисная логика. Также были освоены принципы удаленного вызова процедур (RPC) и их применени в распределенных системах.

